# Инструкции для Claude Code — Ядро C.FPF

> **First Principles Framework (FPF) — Операционная система для мышления**

## Роль ядра C.FPF

**C.FPF** — это ядро, содержащее полную спецификацию First Principles Framework. Оно выступает **фундаментальной философской основой** для других ядер проекта VK-offee.

```
C.FPF (Фундаментальные принципы) → A.SRT (Методология) → B.COFFEE (Данные)
```

---

## КРИТИЧЕСКИ ВАЖНО: Как работать с FPF

### ⚠️ НЕ загружай FPF-Spec.md в контекст!

**FPF-Spec.md** — это файл размером **4.2 MB (~50K строк)**. Это слишком большой объём для контекста LLM!

**Правильно:**
- FPF должен быть доступен через **RAG** (Retrieval-Augmented Generation)
- Используй векторный поиск по FPF для поиска конкретных паттернов
- Загружай только релевантные части FPF при необходимости

**Неправильно:**
- ❌ Читать FPF-Spec.md целиком
- ❌ Загружать FPF-Spec.md в контекст LLM
- ❌ Пытаться суммаризировать весь FPF

---

## Алгоритм работы с C.FPF

### Шаг 1: Определи задачу

**Вопрос:** Нужны ли фундаментальные принципы FPF для этой задачи?

| Тип задачи | Нужен C.FPF? | Пример |
|------------|--------------|--------|
| Глубокий анализ методологии | ✅ Да | "Как FPF влияет на SRT?" |
| Проверка соответствия принципам | ✅ Да | "Соответствует ли документ принципу A.1?" |
| Работа с документами кофейни | ❌ Нет (используй A.SRT) | "Создай документ меню" |
| Понимание концепций | ✅ Да | "Что такое Bounded Context?" |

### Шаг 2: Найди релевантный паттерн

**Используй Readme.md для навигации:**

```bash
# 1. Читай Readme.md для понимания структуры
cat C.FPF/Readme.md

# 2. Определи нужную часть FPF-Spec.md:
# - Part A: Онтология (Holons, Systems, Epistemes)
# - Part B: Рассуждение (Γ Algebra, Trust, Evolution)
# - Part C: Исчисления (Sys-CAL, KD-CAL, NQD-CAL)
# - Part D: Этика
# - Part E: Люди и проекты (PPKA)
# - Part F: Записи и таблицы
# - Part G: SoTA-Packs

# 3. Если доступен RAG, используй векторный поиск:
# "Find pattern A.1 in FPF-Spec.md"
# "Search for Bounded Context definition in FPF"
```

### Шаг 3: Примени паттерн

**Примеры применения:**

#### Пример 1: Проверка документа на соответствие A.1 (Holonic Foundation)

```
Задача: Проверить документ B.COFFEE на холонический принцип

Алгоритм:
1. Прочитай описание A.1 из Readme.md или FPF-Spec.md
2. Паттерн A.1: "Всё — холон: одновременно целое и часть"
3. Проверь документ:
   - Есть ли ссылки на части (подсистемы)?
   - Есть ли ссылки на целое (надсистему)?
   - Определён ли контекст?
4. Сделай вывод о соответствии
```

#### Пример 2: Применить A.7 (Strict Distinction)

```
Задача: Проверить, не путаем ли мы Role, Method, Work

Алгоритм:
1. Прочитай A.7 из FPF-Spec.md (если доступен)
2. Паттерн A.7: Role ≠ Method ≠ Work
   - Role: Назначение/Маска (кто)
   - Method: Рецепт (как)
   - Work: Выполнение (что сделано)
3. Проверь документ на смешение этих понятий
4. Предложи исправления
```

#### Пример 3: Использовать B.3 (Trust Calculus)

```
Задача: Оценить надёжность информации в документе

Алгоритм:
1. Прочитай B.3 из FPF-Spec.md
2. Trust = ⟨F, G, R⟩:
   - F (Formality): Насколько строго выражено?
   - G (Claim Scope): Где применимо?
   - R (Reliability): Насколько подкреплено?
3. Оцени каждый параметр для документа
4. Вычисли общую надёжность
```

---

## Связи C.FPF с другими ядрами

### C.FPF → A.SRT (Philosophy Provider)

**Что предоставляет C.FPF:**

| FPF Паттерн | Как применяется в A.SRT |
|-------------|------------------------|
| A.1 (Holonic Foundation) | Структура SRT 3×3: каждое семейство — холон |
| A.1.1 (Bounded Context) | Семейства F0-F9 как ограниченные контексты |
| A.7 (Strict Distinction) | Разделение систем, ролей, методов в документах |
| B.3 (Trust Calculus) | Оценка качества документов через F-G-R |
| B.4 (Evolution) | Процессы обновления хранилища |

**Алгоритм для AI:**

```
Когда работаешь с A.SRT:
1. Проверь, применяются ли принципы FPF из C.FPF
2. Если создаёшь новый процесс/стандарт в A.SRT:
   - Читай соответствующий паттерн из C.FPF
   - Применяй его к контексту SRT
   - Документируй ссылку на FPF паттерн
```

### C.FPF → B.COFFEE (транзитивно через A.SRT)

**B.COFFEE не обращается к C.FPF напрямую!**
- B.COFFEE применяет методологию A.SRT
- A.SRT уже встроил принципы C.FPF
- Транзитивное применение FPF

**Исключение:** Глубокий анализ методологии
- Если нужно понять, *почему* A.SRT работает так, а не иначе
- Тогда обращайся к C.FPF для понимания фундамента

---

## Типичные задачи с C.FPF

### Задача 1: Объяснить концепцию FPF

```
Пользователь: "Что такое Bounded Context?"

Алгоритм:
1. Прочитай Readme.md секцию "Key Concepts"
2. Найди A.1.1 (Bounded Context)
3. Объясни простым языком (БЕЗ FPF-терминологии!)
4. Приведи пример из A.SRT или B.COFFEE
```

**Пример ответа:**

> **Bounded Context** — это принцип, что значение термина определено только в пределах конкретного контекста. Например, слово "Система" в семействе F1 (надсистема) и F4 (целевая система) может означать разные вещи. При переходе между контекстами нужны явные "мосты" (bridges) с описанием потерь при переводе.

### Задача 2: Проверить документ на соответствие FPF

```
Пользователь: "Проверь этот документ на соответствие FPF"

Алгоритм:
1. Прочитай документ
2. Определи, какие паттерны FPF применимы
3. Для каждого паттерна:
   - Прочитай определение из C.FPF/Readme.md
   - Проверь документ на соответствие
   - Запиши отклонения
4. Предложи улучшения
```

### Задача 3: Применить FPF к новому процессу

```
Пользователь: "Создай процесс для обновления меню кофейни, используя FPF"

Алгоритм:
1. Определи релевантные паттерны:
   - B.4 (Evolution) — для цикла обновления
   - B.3 (Trust) — для проверки надёжности изменений
   - A.7 (Strict Distinction) — для разделения роли, метода, работы
2. Прочитай эти паттерны из C.FPF
3. Создай процесс, применяя паттерны
4. Задокументируй ссылки на FPF
```

---

## Промпт для работы с FPF через RAG

Если у тебя есть доступ к RAG с FPF-Spec.md, используй этот промпт:

```
You have FPF in a file. Use it but answer with no FPF-specific
terminology. Answer as to engineer-manager.

Task: [описание задачи]
```

**Важно:**
- Отвечай **БЕЗ FPF-терминологии** для пользователя
- Используй FPF-термины только в метаданных (frontmatter, комментариях)
- Объясняй концепции простым языком

---

## Правила работы с C.FPF

### DO ✅

- **Читай Readme.md** для понимания структуры FPF
- **Используй RAG** для поиска конкретных паттернов в FPF-Spec.md
- **Применяй паттерны** к контексту A.SRT и B.COFFEE
- **Объясняй простым языком** (без FPF-терминологии для пользователя)
- **Документируй ссылки** на FPF паттерны в frontmatter

### DON'T ❌

- **Не загружай FPF-Spec.md целиком** в контекст
- **Не используй FPF-терминологию** в ответах пользователю
- **Не пытайся читать FPF последовательно** (это не книга, а спецификация)
- **Не применяй FPF напрямую к B.COFFEE** (используй A.SRT как посредник)
- **Не игнорируй принципы FPF** при работе с A.SRT

---

## Контрольный список для AI

При работе с C.FPF проверь:

- [ ] Определил, нужен ли FPF для задачи?
- [ ] Прочитал Readme.md для понимания структуры?
- [ ] Нашёл релевантный паттерн в FPF?
- [ ] Применил паттерн к контексту A.SRT/B.COFFEE?
- [ ] Объяснил концепцию простым языком?
- [ ] Задокументировал ссылку на FPF паттерн?

---

## Структура FPF-Spec.md

Для навигации по FPF-Spec.md (если доступен через RAG):

```
Part A: Kernel Architecture Cluster
├── A.1: Holonic Foundation
├── A.1.1: Bounded Context
├── A.7: Strict Distinction
└── ...

Part B: Trans-disciplinary Reasoning Cluster
├── B.1: Γ Algebra
├── B.3: Trust & Assurance Calculus (F-G-R)
├── B.4: Evolution
├── B.5: ADI Cycle (Abduction-Deduction-Induction)
└── ...

Part C: Architheory Specifications
├── Sys-CAL: Physics
├── KD-CAL: Knowledge Dynamics
├── NQD-CAL: Novelty-Quality-Diversity
└── Kind-CAL: Typed Reasoning

Part D: Ethics & Conflict-Optimisation

Part E: People & Projects (PPKA)

Part F: Records & Tables
├── F.9: Concept-Set Tables
├── F.17: Congruence Levels
└── ...

Part G: SoTA-Packs
```

---

## Примеры использования

### Пример 1: Применить A.1 к документу SRT

```bash
# 1. Прочитай определение A.1 из Readme.md
cat C.FPF/Readme.md | grep -A 5 "Holonic Foundation"

# 2. Прочитай документ из A.SRT
cat A.SRT/content/2.System-of-Interest/2.1.Meaning/README.md

# 3. Проверь:
# - Определена ли система как холон?
# - Есть ли ссылки на надсистему (целое)?
# - Есть ли ссылки на подсистемы (части)?

# 4. Предложи улучшения
```

### Пример 2: Использовать B.3 для оценки документа

```bash
# 1. Прочитай B.3 из Readme.md
cat C.FPF/Readme.md | grep -A 10 "Trust & Assurance"

# 2. Оцени документ B.COFFEE по F-G-R:
# - F: Формальность выражения (низкая/средняя/высокая)
# - G: Область применения (где действительно?)
# - R: Надёжность (подкреплено доказательствами?)

# 3. Вычисли Trust = ⟨F, G, R⟩
```

---

## Метафора: FPF как ОС

Для пользователей, понимающих программирование:

| Концепция ОС | Аналог в FPF |
|--------------|--------------|
| Процесс | Holon → Role → Method → Work |
| Адресное пространство | Bounded Context |
| IPC (межпроцессное взаимодействие) | Bridges между контекстами |
| Файловая система | Records, Tables, Cards (F-cluster) |
| Управление памятью | Evidence Graphs |
| Драйверы/сервисы | CAL, LOG, CHR, SoTA-packs |
| Kernel | Part A (Kernel Architecture) |
| System calls | Γ operators |

---

## Upstream и версионирование

**Upstream репозиторий:** https://github.com/TserenTserenov/FPF (original)
**Fork:** https://github.com/alexpoaiagent-sudo/FPF
**Версия:** January 2026
**Статус:** Normative kernel, "eternal alpha"

**Обновление C.FPF:**

```bash
# Склонируй свежую версию fork
git clone https://github.com/alexpoaiagent-sudo/FPF.git /tmp/fpf-fresh

# Сравни изменения
diff /tmp/fpf-fresh/FPF-Spec.md C.FPF/FPF-Spec.md

# Примени обновления
# Проверь влияние на A.SRT и B.COFFEE
```

---

## Навигация

**Для понимания FPF:**
- [C.FPF/Readme.md](Readme.md) — обзор
- [C.FPF/FPF-Spec.md](FPF-Spec.md) — полная спецификация (через RAG!)

**Для понимания роли в проекте:**
- [0.KERNELS/kernel-map.md](../0.KERNELS/kernel-map.md) — карта ядер
- [0.KERNELS/connections.md](../0.KERNELS/connections.md) — связи

**Для применения:**
- [A.SRT/CLAUDE.md](../A.SRT/CLAUDE.md) — как работать с SRT
- [B.COFFEE/CLAUDE.md](../B.COFFEE/CLAUDE.md) — как работать с кофейней

---

**Версия:** 1.0 (интеграция в VK-offee)
**Дата:** 2026-01-20
**Автор:** Claude Code + alexpoaiagent-sudo
