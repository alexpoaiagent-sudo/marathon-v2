# Карта ядер проекта VK-offee

> **Multi-Kernel Architecture**: Проект организован как несколько взаимосвязанных ядер, каждое из которых является самостоятельной системой знаний.

## Концепция

Вместо единого монолитного хранилища, проект использует **архитектуру множественных ядер** (multi-kernel), где:

- Каждое ядро — полноценная система знаний с собственной структурой
- Ядра связаны между собой явными интерфейсами
- Ядра организованы **иерархически**: философия → методология → данные
- Каждое ядро — **источник правды (source of truth)** для своего уровня

## Иерархия ядер

```
┌─────────────────────────┐
│        C.FPF            │  Философия (First Principles)
│  (Фундаментальные       │  Источник правды для МЫШЛЕНИЯ
│   принципы)             │
└───────────┬─────────────┘
            │ предоставляет философию
            │
            ▼
┌─────────────────────────┐
│        A.SRT            │  Методология (Systems-Roles-Table)
│  (Методология SRT)      │  Источник правды для СТРУКТУРЫ
└───────────┬─────────────┘
            │ предоставляет методологию
            │
            ▼
┌─────────────────────────┐
│      B.COFFEE           │  Данные (Конкретный проект)
│  (База знаний кофейни)  │  Источник правды для ОПЕРАЦИЙ
└─────────────────────────┘
```

---

## Ядра проекта

### C.FPF — Ядро First Principles Framework (Philosophy)

**Назначение:** Источник правды для фундаментальных принципов мышления и организации знаний.

**Содержание:**
- `FPF-Spec.md` — Полная спецификация FPF (4.2 MB, ~50K строк)
- `Readme.md` — Обзор FPF и ключевые концепции
- `CLAUDE.md` — Инструкции для работы с FPF
- `README.md` — Описание ядра в контексте VK-offee

**Ключевые принципы:**
- **A.1 (Holonic Foundation)**: Всё — холон (целое и часть)
- **A.1.1 (Bounded Context)**: Значение локально в контексте
- **A.7 (Strict Distinction)**: Роль ≠ Метод ≠ Работа
- **B.3 (Trust Calculus)**: Доверие = ⟨F, G, R⟩
- **B.4 (Evolution)**: Системы эволюционируют
- **B.1 (Γ Algebra)**: Универсальная композиция

**Роль:**
- Философская основа всех ядер
- Паттерны рассуждения и организации
- "Операционная система для мышления"

**Источник:** Fork репозитория [alexpoaiagent-sudo/FPF](https://github.com/alexpoaiagent-sudo/FPF)

**Версия:** January 2026

---

### A.SRT — Ядро методологии (Methodology)

**Назначение:** Источник правды для SRT-метода (Systems-Roles-Table) и методологии работы с знаниями.

**Содержание:**
- `content/` — Шаблоны и примеры SRT-структуры
  - Таблица 3×3 (F0-F9)
  - Семейства документов
  - Процессы работы с хранилищем
- `.fpf/` — Локальная копия FPF (для совместимости)
- `templates/` — Шаблоны документов
- `example/` — Примеры применения SRT
- `CLAUDE.md` — Инструкции для AI-агентов
- `README.md` — Описание SRT-метода

**Роль:**
- Методологическая база проекта
- Применяет принципы FPF к структуре 3×3
- Шаблоны для создания документов
- Процессы управления знаниями

**Применяет философию из:** C.FPF

**Источник:** Fork репозитория [alexpoaiagent-sudo/srt-template](https://github.com/alexpoaiagent-sudo/srt-template)

**Версия:** 1.0

---

### B.COFFEE — Ядро данных кофейни (Operations)

**Назначение:** База знаний сети кофеен «Вкусный Кофе».

**Содержание:**
- `content/` — Структура по SRT 3×3
  - `0.Management/` — Метасемейство (F0)
  - `1.Suprasystem/` — Надсистема (F1-F3): Рынок HoReCa
  - `2.VkusnyCoffeeNetwork/` — Целевая система (F4-F6): Сеть кофеен
  - `3.ManagementTeam/` — Система создания (F7-F9): Команда
- `assets/` — Медиа-файлы (меню, фото)
- `finance/` — Финансовые данные
- `ops/` — Операционные процессы
- `vendors/` — Поставщики
- `CLAUDE.md` — Инструкции для работы с кофейней
- `README.md` — Описание проекта

**Роль:**
- Операционные данные кофейни
- Процессы, стандарты, обучение
- Меню, поставщики, финансы
- Команда и должностные инструкции

**Применяет методологию из:** A.SRT (транзитивно применяет философию из C.FPF)

**Версия:** 2.0

---

## Связи между ядрами

### Диаграмма связей

```
┌─────────────────────────┐
│        C.FPF            │  Фундамент
│  (Философия)            │
└───────────┬─────────────┘
            │
            │ Provides Philosophy
            │ • Holonic Foundation (A.1)
            │ • Bounded Context (A.1.1)
            │ • Strict Distinction (A.7)
            │ • Trust Calculus (B.3)
            │ • Evolution (B.4)
            │ • Γ Algebra (B.1)
            │
            ▼
┌─────────────────────────┐
│        A.SRT            │  Методология
│  (SRT-метод)            │
└───────────┬─────────────┘
            │
            │ Provides Methodology
            │ • Таблица 3×3 (F0-F9)
            │ • Шаблоны документов
            │ • Процессы хранилища
            │ • Стандарты оформления
            │
            ▼
┌─────────────────────────┐
│      B.COFFEE           │  Операции
│  (Данные кофейни)       │
└─────────────────────────┘
```

### Таблица связей

| От ядра | К ядру | Тип связи | Описание |
|---------|--------|-----------|----------|
| C.FPF | A.SRT | **Philosophy Provider** | Предоставляет фундаментальные принципы мышления |
| A.SRT | C.FPF | **Philosophy Consumer** | Применяет паттерны FPF к SRT-методу |
| A.SRT | B.COFFEE | **Methodology Provider** | Предоставляет структуру 3×3 и процессы |
| B.COFFEE | A.SRT | **Methodology Consumer** | Использует методологию для организации данных |
| C.FPF | B.COFFEE | **Philosophy Provider (транзитивно)** | Через A.SRT |
| B.COFFEE | C.FPF | **Philosophy Consumer (транзитивно)** | Через A.SRT |

---

## Применение философии C.FPF в других ядрах

### C.FPF → A.SRT

| FPF Паттерн | Применение в A.SRT |
|-------------|-------------------|
| A.1 (Holonic Foundation) | Структура SRT 3×3: каждое семейство — холон |
| A.1.1 (Bounded Context) | Семейства F0-F9 как ограниченные контексты |
| A.7 (Strict Distinction) | Разделение систем, ролей, методов |
| B.3 (Trust Calculus) | Оценка качества документов через F-G-R |
| B.4 (Evolution) | Процессы обновления хранилища |
| B.1 (Γ Algebra) | Композиция документов в семейства |

### C.FPF → A.SRT → B.COFFEE (транзитивно)

B.COFFEE **не обращается к C.FPF напрямую**! Принципы FPF применяются транзитивно через методологию A.SRT:

```
C.FPF (паттерн A.1) → A.SRT (структура 3×3) → B.COFFEE (семейства F0-F9)
```

---

## Принципы работы с ядрами

### 1. Иерархическая изоляция

Каждое ядро изолировано на своем уровне:
- **C.FPF** — философия, не зависит от проектов
- **A.SRT** — методология, не зависит от конкретных данных
- **B.COFFEE** — данные, специфичны для кофейни

### 2. Явные интерфейсы

Связи между ядрами:
- Документированы в `0.KERNELS/connections.md`
- Указаны в CLAUDE.md каждого ядра
- Видны через frontmatter документов

### 3. Источники правды (Source of Truth)

Каждое ядро — источник правды для своего уровня:
- **C.FPF** — для философии FPF
- **A.SRT** — для методологии SRT
- **B.COFFEE** — для данных кофейни

**Правило каскада:**
> Изменения в C.FPF могут повлиять на A.SRT и B.COFFEE. Изменения в A.SRT могут повлиять на B.COFFEE. Изменения в B.COFFEE НЕ влияют на A.SRT и C.FPF (но могут стать примерами).

### 4. Транзитивное применение

B.COFFEE применяет философию C.FPF **транзитивно** через A.SRT:
- ✅ Правильно: B.COFFEE → A.SRT → C.FPF
- ❌ Неправильно: B.COFFEE → C.FPF напрямую

### 5. Минимализм

- Не дублируй информацию между ядрами
- Ссылайся на источник правды
- Создавай новые ядра только при необходимости

---

## Навигация

### Для работы с философией

→ Перейдите в [C.FPF/](../C.FPF/)

**Что внутри:**
- [C.FPF/Readme.md](../C.FPF/Readme.md) — Обзор FPF
- [C.FPF/FPF-Spec.md](../C.FPF/FPF-Spec.md) — Полная спецификация (через RAG!)
- [C.FPF/CLAUDE.md](../C.FPF/CLAUDE.md) — Инструкции для AI

### Для работы с методологией

→ Перейдите в [A.SRT/](../A.SRT/)

**Что внутри:**
- [A.SRT/README.md](../A.SRT/README.md) — Обзор SRT-метода
- [A.SRT/content/](../A.SRT/content/) — Шаблоны структуры 3×3
- [A.SRT/templates/](../A.SRT/templates/) — Шаблоны документов
- [A.SRT/CLAUDE.md](../A.SRT/CLAUDE.md) — Инструкции для AI

### Для работы с данными кофейни

→ Перейдите в [B.COFFEE/](../B.COFFEE/)

**Что внутри:**
- [B.COFFEE/README.md](../B.COFFEE/README.md) — Описание проекта
- [B.COFFEE/content/](../B.COFFEE/content/) — База знаний
- [B.COFFEE/CLAUDE.md](../B.COFFEE/CLAUDE.md) — Инструкции для AI

### Для понимания связей

→ Читайте [connections.md](connections.md)

---

## Расширение архитектуры

### Добавление нового ядра

Если нужно добавить новое ядро (например, **D.FRANCHISE**):

1. **Определи уровень** в иерархии:
   - Философия (уровень C.FPF) — редко
   - Методология (уровень A.SRT) — иногда
   - Операции (уровень B.COFFEE) — часто

2. **Создай структуру:**
   ```bash
   mkdir D.FRANCHISE
   cp -r A.SRT/content/ D.FRANCHISE/content/
   touch D.FRANCHISE/CLAUDE.md
   touch D.FRANCHISE/README.md
   ```

3. **Обнови документацию:**
   - Добавь D.FRANCHISE в этот файл
   - Добавь связи в `connections.md`
   - Обнови главный `CLAUDE.md`

4. **Определи связи:**
   - От кого получает: C.FPF? A.SRT?
   - Кому предоставляет: B.COFFEE? Другие?

### Примеры будущих ядер

**D.FRANCHISE** — Ядро франшизы
- Уровень: Операции (как B.COFFEE)
- Применяет: A.SRT (методология)
- Содержит: Документация для франчайзи, процессы открытия точек

**E.TRAINING** — Ядро обучения
- Уровень: Операции (как B.COFFEE)
- Применяет: A.SRT (методология)
- Содержит: Учебные материалы, программы тренингов

**F.DOMAIN** — Ядро доменной методологии (гипотетически)
- Уровень: Методология (как A.SRT)
- Применяет: C.FPF (философия)
- Содержит: Специализированная методология для домена (например, для медицины)

---

## Версионирование ядер

| Ядро | Версия | Статус | Upstream |
|------|--------|--------|----------|
| C.FPF | January 2026 | Normative kernel, "eternal alpha" | [alexpoaiagent-sudo/FPF](https://github.com/alexpoaiagent-sudo/FPF) |
| A.SRT | 1.0 | Stable | [alexpoaiagent-sudo/srt-template](https://github.com/alexpoaiagent-sudo/srt-template) |
| B.COFFEE | 2.0 | Active development | — |

---

## Метафора: Слои архитектуры

```
┌────────────────────────────────────────┐
│  B.COFFEE (Application Layer)          │  Приложение
│  "Что мы делаем"                       │
├────────────────────────────────────────┤
│  A.SRT (Framework Layer)               │  Фреймворк
│  "Как мы организуем"                   │
├────────────────────────────────────────┤
│  C.FPF (Kernel Layer)                  │  Ядро ОС
│  "На чём мы думаем"                    │
└────────────────────────────────────────┘
```

Как в программировании:
- **C.FPF** = Ядро ОС (Linux kernel)
- **A.SRT** = Фреймворк (Django, Rails)
- **B.COFFEE** = Приложение (сайт, сервис)

---

## Команды для работы

### Навигация

```bash
# Философия
cd C.FPF

# Методология
cd A.SRT

# Операции
cd B.COFFEE

# Корень
cd /home/user/VK-offee
```

### Поиск информации

```bash
# Философский принцип
cat C.FPF/Readme.md | grep -A 5 "Holonic Foundation"

# Методология
cat A.SRT/content/0.Management/0.1*/glossary.md

# Данные
find B.COFFEE/content -name "*.md" | grep menu
```

---

**Версия:** 2.0 (добавлено ядро C.FPF)
**Дата:** 2026-01-20
**Автор:** Claude Code + alexpoaiagent-sudo
